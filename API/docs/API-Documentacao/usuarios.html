<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API - Documenta√ß√£o Usu√°rios</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f9f9f9;
      color: #333;
    }

    h1,
    h2,
    h3 {
      color: #222;
    }

    .section {
      margin-bottom: 40px;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    pre {
      background: #eee;
      padding: 10px;
      border-radius: 4px;
      overflow-x: auto;
    }

    a {
      color: #0056b3;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .back-link {
      display: inline-block;
      margin-top: 10px;
      font-size: 0.9em;
    }
  </style>
</head>

<body>
  <h1>üìò API - Usu√°rios</h1>
  <p>Esta √© a documenta√ß√£o da API relacionada aos usu√°rios. Todos os endpoints, exceto POST /usuarios e POST /login,
    exigem autentica√ß√£o de sess√£o.</p>

  <div class="section" id="endpoints">
    <h2>üîó Endpoints</h2>
    <ul>
      <li><a href="index.html">Voltar ao Menu</a></li>
    </ul>
    <ul>
      <li><a href="#post">POST /usuarios</a> - Criar usu√°rio</li>
      <li><a href="#get-id">GET /usuarios/:id</a> - Buscar usu√°rio por ID</li>
      <li><a href="#get-email">GET /usuarios/email/:email</a> - Buscar usu√°rio por e-mail</li>
      <li><a href="#put">PUT /usuarios/:id</a> - Atualizar usu√°rio</li>
      <li><a href="#delete">DELETE /usuarios</a> - Excluir usu√°rio</li>
      <li><a href="#login">POST /login</a> - Login de usu√°rio</li>
      <li><a href="#logout">POST /logout</a> - Logout de usu√°rio</li>
    </ul>
  </div>

  <div class="section" id="post">
    <h2>üì§ POST /usuarios</h2>
    <p>Cria um novo usu√°rio no sistema.</p>
    <h3>Corpo da requisi√ß√£o:</h3>
    <pre>{
 "UsuarioNome": "Jo√£o Silva",
 "UsuarioEmail": "joao@email.com",
 "UsuarioSenha": "SenhaSegura123",
 "UsuarioDtNascimento": "1990-01-01",
 "UsuarioPeso": 75.5,
 "UsuarioAltura": 1.75,
 "UsuarioSexo": "Masculino",
 "UsuarioFoto": "https://url.da.foto.jpg",
 "UsuarioPesoMaximoPorcentagem": 10
}</pre>
    <h3>Respostas:</h3>
    <ul>
      <li>`201 Created`: `{ "ok": true, "message": "Usu√°rio criado com sucesso" }`</li>
      <li>`409 Conflict`: Retorna o erro espec√≠fico de valida√ß√£o (ex: "E-mail j√° cadastrado", "Nome deve ter entre 3 e
        100 caracteres").</li>
      <li>`500 Internal Server Error`: `{ "error": "Erro ao cadastrar usu√°rio" }`</li>
    </ul>
    <a href="#endpoints" class="back-link">‚¨Ö Voltar para Endpoints</a>
  </div>

  <div class="section" id="get-id">
    <h2>üì• GET /usuarios/:id</h2>
    <p>Busca um usu√°rio espec√≠fico pelo ID. Requer autentica√ß√£o de sess√£o e s√≥ permite a busca do pr√≥prio usu√°rio
      logado.</p>
    <h3>Par√¢metros da URL:</h3>
    <ul>
      <li>`:id`: ID do usu√°rio a ser buscado (n√∫mero).</li>
    </ul>
    <h3>Respostas:</h3>
    <ul>
      <li>`200 OK`: Retorna os dados do usu√°rio, exceto a senha.</li>
      <li>`400 Bad Request`: `{ "error": "Id √© obrigat√≥rio" }`</li>
      <li>`401 Unauthorized`: `{ "error": "Usu√°rio n√£o autenticado" }`</li>
      <li>`404 Not Found`: `{ "error": "Usu√°rio n√£o encontrado ou n√£o autorizado a obter os seus dados" }`</li>
      <li>`500 Internal Server Error`: `{ "error": "Erro ao obter usu√°rio por id" }`</li>
    </ul>
    <a href="#endpoints" class="back-link">‚¨Ö Voltar para Endpoints</a>
  </div>

  <div class="section" id="get-email">
    <h2>üì• GET /usuarios/email/:email</h2>
    <p>Busca um usu√°rio espec√≠fico pelo e-mail. Requer autentica√ß√£o de sess√£o e s√≥ permite a busca do pr√≥prio usu√°rio
      logado.</p>
    <h3>Par√¢metros da URL:</h3>
    <ul>
      <li>`:email`: E-mail do usu√°rio a ser buscado.</li>
    </ul>
    <h3>Respostas:</h3>
    <ul>
      <li>`200 OK`: Retorna os dados do usu√°rio, exceto a senha.</li>
      <li>`400 Bad Request`: `{ "error": "E-mail √© obrigat√≥rio" }`</li>
      <li>`401 Unauthorized`: `{ "error": "Usu√°rio n√£o autenticado" }`</li>
      <li>`404 Not Found`: `{ "error": "Usu√°rio n√£o encontrado ou n√£o autorizado a obter os seus dados" }`</li>
      <li>`500 Internal Server Error`: `{ "error": "Erro ao obter usu√°rio por e-mail" }`</li>
    </ul>
    <a href="#endpoints" class="back-link">‚¨Ö Voltar para Endpoints</a>
  </div>

  <div class="section" id="put">
    <h2>‚úèÔ∏è PUT /usuarios/:id</h2>
    <p>Atualiza os dados do usu√°rio logado. Requer autentica√ß√£o de sess√£o. O ID na URL √© ignorado, a atualiza√ß√£o √© feita
      com base no usu√°rio logado na sess√£o.</p>
    <h3>Corpo da requisi√ß√£o:</h3>
    <pre>{
 "UsuarioNome": "Jo√£o Silva",
 "UsuarioEmail": "novoemail@email.com",
 "UsuarioSenha": "SenhaSegura123",
 "UsuarioDtNascimento": "1990-01-01",
 "UsuarioPeso": 76.0,
 "UsuarioAltura": 1.75,
 "UsuarioSexo": "Masculino",
 "UsuarioFoto": "https://url.da.foto.atualizada.jpg",
 "UsuarioPesoMaximoPorcentagem": 10
}</pre>
    <p>Para deletar a foto de perfil, envie `UsuarioFoto` com o valor `"deletar"`. Para mant√™-la, omita o campo ou envie
      `"null"` ou `""`.</p>
    <h3>Respostas:</h3>
    <ul>
      <li>`200 OK`: `{ "ok": true, "message": "Usu√°rio atualizado com sucesso" }`</li>
      <li>`400 Bad Request`: `{ "error": "Usu√°rio n√£o autenticado" }`</li>
      <li>`401 Unauthorized`: `{ "error": "Usu√°rio n√£o autenticado" }`</li>
      <li>`404 Not Found`: `{ "error": "Usu√°rio n√£o encontrado" }`</li>
      <li>`409 Conflict`: Retorna o erro espec√≠fico de valida√ß√£o (ex: "E-mail j√° cadastrado", "Nome n√£o pode ser nulo").
      </li>
      <li>`500 Internal Server Error`: `{ "error": "Erro ao alterar usu√°rio" }`</li>
    </ul>
    <a href="#endpoints" class="back-link">‚¨Ö Voltar para Endpoints</a>
  </div>

  <div class="section" id="delete">
    <h2>üóë DELETE /usuarios</h2>
    <p>Remove o usu√°rio do sistema, alterando o status para "Excluido". Requer autentica√ß√£o de sess√£o e a senha do
      usu√°rio no corpo da requisi√ß√£o para confirma√ß√£o.</p>
    <h3>Corpo da requisi√ß√£o:</h3>
    <pre>{
 "UsuarioSenha": "SenhaParaConfirmarExclusao"
}</pre>
    <h3>Respostas:</h3>
    <ul>
      <li>`200 OK`: `{ "ok": true, "message": "Usu√°rio exclu√≠do com sucesso" }`</li>
      <li>`400 Bad Request`: `{ "error": "Senha √© obrigat√≥ria para exclus√£o" }` ou `{ "error": "Usu√°rio n√£o autenticado"
        }`</li>
      <li>`401 Unauthorized`: `{ "error": "Usu√°rio n√£o autenticado" }` ou `{ "error": "Senha incorreta" }`</li>
      <li>`404 Not Found`: `{ "error": "Usu√°rio n√£o encontrado" }`</li>
      <li>`500 Internal Server Error`: `{ "error": "Erro ao excluir usu√°rio" }`</li>
    </ul>
    <a href="#endpoints" class="back-link">‚¨Ö Voltar para Endpoints</a>
  </div>

  <div class="section" id="login">
    <h2>üîê POST /login</h2>
    <p>Realiza o login do usu√°rio e cria uma sess√£o.</p>
    <h3>Corpo da requisi√ß√£o:</h3>
    <pre>{
 "UsuarioEmail": "joao@email.com",
 "UsuarioSenha": "SenhaSegura123"
}</pre>
    <h3>Respostas:</h3>
    <ul>
      <li>`200 OK`: `{ "ok": true, "message": "Login realizado com sucesso" }`</li>
      <li>`400 Bad Request`: `{ "error": "E-mail √© obrigat√≥rio" }` ou `{ "error": "Senha √© obrigat√≥ria" }`</li>
      <li>`401 Unauthorized`: `{ "error": "Senha incorreta" }`</li>
      <li>`403 Forbidden`: `{ "error": "Usu√°rio suspenso. Contate o suporte." }` ou `{ "error": "Usu√°rio n√£o encontrado"
        }` (se o status for "Excluido").</li>
      <li>`404 Not Found`: `{ "error": "Usu√°rio n√£o encontrado" }`</li>
      <li>`500 Internal Server Error`: `{ "error": "Erro ao realizar login" }`</li>
    </ul>
    <a href="#endpoints" class="back-link">‚¨Ö Voltar para Endpoints</a>
  </div>

  <div class="section" id="logout">
    <h2>üö™ POST /logout</h2>
    <p>Encerra a sess√£o do usu√°rio atual.</p>
    <h3>Corpo da requisi√ß√£o:</h3>
    <p>N√£o h√° corpo de requisi√ß√£o.</p>
    <h3>Respostas:</h3>
    <ul>
      <li>`200 OK`: `{ "ok": true, "message": "Sess√£o encerrada com sucesso" }`</li>
      <li>`401 Unauthorized`: `{ "error": "Usu√°rio n√£o autenticado" }`</li>
      <li>`500 Internal Server Error`: `{ "error": "Erro ao encerrar sess√£o" }`</li>
    </ul>
    <a href="#endpoints" class="back-link">‚¨Ö Voltar para Endpoints</a>
  </div>
</body>

</html>